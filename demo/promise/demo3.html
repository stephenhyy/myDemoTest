<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
</head>
<body>
<div id="result"></div>
<button id="btn">btn</button>
<script>
	function getNumber(){
		var p = new Promise(function(resolve, reject){
			//做一些异步操作
			setTimeout(function(){
				var num = Math.ceil(Math.random()*10); //生成1-10的随机数
				if(num<=5){
					resolve(num);
				}
				else{
					reject('数字太大了');
				}
			}, 2000);
		});
		return p;
	}
	$("#btn").click(function(){
		getNumber()
				.then(
				function(data){
					$("#result").html('resolved:'+data);
				},
				function(reason){
					$("#result").html('rejected:'+reason);
				}
		);
	})


</script>
</body>
</html>